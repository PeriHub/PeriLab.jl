<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Software Testing · PeriLab</title><meta name="title" content="Software Testing · PeriLab"/><meta property="og:title" content="Software Testing · PeriLab"/><meta property="twitter:title" content="Software Testing · PeriLab"/><meta name="description" content="Documentation for PeriLab."/><meta property="og:description" content="Documentation for PeriLab."/><meta property="twitter:description" content="Documentation for PeriLab."/><meta property="og:url" content="https://github.com/PeriHub/PeriLab.jl/man/dev/testing/"/><meta property="twitter:url" content="https://github.com/PeriHub/PeriLab.jl/man/dev/testing/"/><link rel="canonical" href="https://github.com/PeriHub/PeriLab.jl/man/dev/testing/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img class="docs-light-only" src="../../../assets/logo.png" alt="PeriLab logo"/><img class="docs-dark-only" src="../../../assets/logo-dark.png" alt="PeriLab logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">PeriLab</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../basics/">First Steps with PeriLab</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../input_yaml/">Input File</a></li><li><a class="tocitem" href="../../mesh_input/">Mesh and Nodesets</a></li><li><a class="tocitem" href="../../bond_filter/">Bond-Filter</a></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../models/overview/">Overview</a></li><li><a class="tocitem" href="../../models/materials/">Material Models</a></li><li><a class="tocitem" href="../../models/damage/">Damage Models</a></li><li><a class="tocitem" href="../../models/thermal/">Thermal Models</a></li><li><a class="tocitem" href="../../models/additive/">Additive Models</a></li><li><a class="tocitem" href="../../models/contact/">Contact Models</a></li></ul></li><li><a class="tocitem" href="../../output/">Output</a></li><li><a class="tocitem" href="../../solver/solver/">Solver</a></li></ul></li><li><span class="tocitem">Theory</span><ul><li><a class="tocitem" href="../../../theory/theory/">Basics</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Peridynamic Basics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../theory/theory_bondbased/">Bond-based</a></li><li><a class="tocitem" href="../../../theory/theory_ordinary/">Ordinary state-based</a></li><li><a class="tocitem" href="../../../theory/theory_correspondence/">Non-Ordinary state-based</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Multi-Physics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../theory/theory_thermal/">Thermal Models</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Finite Element Method</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../theory/theory_FEM/">FEM</a></li><li><a class="tocitem" href="../../../theory/theory_FEM_PD_coupling/">Finite Element - Peridynamics coupling</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-5"><span class="docs-label">Modelling strategies</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../theory/theory_surface_correction/">Surface Correction</a></li></ul></li></ul></li><li><span class="tocitem">Non-local structural mechanics and peridynamics</span><ul><li><a class="tocitem" href="../../../lecture/lecture/">Course Description</a></li><li><input class="collapse-toggle" id="menuitem-5-2" type="checkbox"/><label class="tocitem" for="menuitem-5-2"><span class="docs-label">Seminars</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../lecture/seminar_1/">Seminar 1</a></li><li><a class="tocitem" href="../../../lecture/seminar_2/">Seminar 2</a></li><li><a class="tocitem" href="../../../lecture/seminar_3/">Seminar 3</a></li><li><a class="tocitem" href="../../../lecture/seminar_4/">Seminar 4</a></li><li><a class="tocitem" href="../../../lecture/seminar_5/">Seminar 5</a></li><li><a class="tocitem" href="../../../lecture/seminar_6/">Seminar 6</a></li><li><a class="tocitem" href="../../../lecture/seminar_7/">Seminar 7</a></li><li><a class="tocitem" href="../../../lecture/seminar_8/">Seminar 8</a></li><li><a class="tocitem" href="../../../lecture/seminar_9/">Seminar 9</a></li></ul></li></ul></li><li><a class="tocitem" href="../../../lib/faq/">FAQ</a></li><li><a class="tocitem" href="../../../lib/glossar/">Glossar</a></li><li><a class="tocitem" href="../../../lib/references/">References</a></li><li><a class="tocitem" href="../../../lib/links/">Useful Links</a></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../developement_guide/">Guide</a></li><li><a class="tocitem" href="../start_dev/">Getting started</a></li><li><a class="tocitem" href="../datamanager/">Datamanager</a></li><li><a class="tocitem" href="../module_integration/">Module integration</a></li><li class="is-active"><a class="tocitem" href>Software Testing</a><ul class="internal"><li><a class="tocitem" href="#Runtests.jl"><span>Runtests.jl</span></a></li><li><a class="tocitem" href="#Unit-tests"><span>Unit tests</span></a></li><li><a class="tocitem" href="#Full-scale-test"><span>Full scale test</span></a></li><li><a class="tocitem" href="#Examples"><span>Examples</span></a></li></ul></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../../lib/model_factory_functions/">Model Factory</a></li><li><a class="tocitem" href="../../../lib/data_manager_functions/">Data Manager</a></li><li><a class="tocitem" href="../../../lib/solver_functions/">Solver</a></li><li><a class="tocitem" href="../../../lib/io_functions/">IO</a></li><li><a class="tocitem" href="../../../lib/geometry_functions/">Geometry</a></li><li><a class="tocitem" href="../../../lib/mpi_functions/">MPI</a></li><li><a class="tocitem" href="../../../lib/helper_functions/">Helper</a></li><li><a class="tocitem" href="../../../lib/logging_functions/">Logging</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Development</a></li><li class="is-active"><a href>Software Testing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Software Testing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/PeriHub/PeriLab.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/PeriHub/PeriLab.jl/blob/main/docs/src/man/dev/testing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Software-testing"><a class="docs-heading-anchor" href="#Software-testing">Software testing</a><a id="Software-testing-1"></a><a class="docs-heading-anchor-permalink" href="#Software-testing" title="Permalink"></a></h1><p>The testing takes place manually or if commits are submitted to the repository. Make sure that all test are reasonably complex and won&#39;t take to much time. The testing <a href="https://app.codecov.io/gh/perihub/PeriLab.jl">coverage</a> is checked as well.</p><div class="admonition is-warning" id="Code-quality-f339985149f42973"><header class="admonition-header">Code quality<a class="admonition-anchor" href="#Code-quality-f339985149f42973" title="Permalink"></a></header><div class="admonition-body"><p>Tests only handle expected results and helps that code stays as intended after further development. It does not guarantee that not error occur.</p></div></div><div class="admonition is-info" id="New-tests-25f85e4457e88584"><header class="admonition-header">New tests<a class="admonition-anchor" href="#New-tests-25f85e4457e88584" title="Permalink"></a></header><div class="admonition-body"><p>If new unexpected errors occur, please add an test to check possible exception to avoid them next time.</p></div></div><h2 id="Runtests.jl"><a class="docs-heading-anchor" href="#Runtests.jl">Runtests.jl</a><a id="Runtests.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Runtests.jl" title="Permalink"></a></h2><p>The tests to perform are defined in the <strong>runtests.jl</strong> within the test folder. The structure is as follows.</p><pre><code class="language-julia hljs">@testset ExtendedTestSet &quot;PeriLab&quot; begin

    @testset &quot;unit_tests&quot; begin
        @testset &quot;Compute&quot; begin
            @testset &quot;ut_compute_global_values&quot; begin
                include(filepath + filename)
            end
            @testset &quot;ut_compute_field_values&quot; begin
                include(filepath + filename)
            end
        end
    end

    @testset &quot;full_scale&quot; begin
        ...
    end</code></pre><p>After testing you will get an overview over failed or errored tests. The test set structure helps to identify the position of errors.</p><div class="admonition is-info" id="Error-and-Fails-1926ff3a690dd6dd"><header class="admonition-header">Error &amp; Fails<a class="admonition-anchor" href="#Error-and-Fails-1926ff3a690dd6dd" title="Permalink"></a></header><div class="admonition-body"><p>Error means that the code of the test has an error. Typically the function call is flawed. Fail means that the test is wrong, e.g. 2==3</p></div></div><h2 id="Unit-tests"><a class="docs-heading-anchor" href="#Unit-tests">Unit tests</a><a id="Unit-tests-1"></a><a class="docs-heading-anchor-permalink" href="#Unit-tests" title="Permalink"></a></h2><p>Unit tests are tests to check functions. To do that you add a file the the unit_tests folder. The folder has the same structure as the src folder. Please add your test in place of the src code file where your function is located. It helps to find the tests. Add your tests (please take examples from already existing tests).</p><div class="admonition is-info" id="Exceptions-fb7d73c955f5218e"><header class="admonition-header">Exceptions<a class="admonition-anchor" href="#Exceptions-fb7d73c955f5218e" title="Permalink"></a></header><div class="admonition-body"><p>In this tests the exeptions should be tested, because full scale tests are not capable of.</p></div></div><h2 id="Full-scale-test"><a class="docs-heading-anchor" href="#Full-scale-test">Full scale test</a><a id="Full-scale-test-1"></a><a class="docs-heading-anchor-permalink" href="#Full-scale-test" title="Permalink"></a></h2><p>Full scale models should be used to test features within a complete analyses. A complete model is run and tested against the result file. This can be done for single and multi core simulations.</p><p><strong>How to set up?</strong> To create such test, you have to create a &#39;&#39;normal&#39;&#39; model and run it. Create a folder of your test and put all the information for the model inside. Create .jl file in the following structure</p><pre><code class="language-julia hljs">    folder_name = basename(@__FILE__)[1:end-3]
    cd(&quot;fullscale_tests/&quot; * folder_name) do
        run_perilab(&quot;additive_2d&quot;, 1, true, folder_name)
        run_perilab(&quot;additive_2d_heat&quot;, 1, true, folder_name)
        run_perilab(&quot;additive_3d&quot;, 1, true, folder_name)
    end</code></pre><p>Code should be tested in parallel as shown below. The effect of core distribution is tested. The reference is the single core solution.</p><pre><code class="language-julia hljs">    folder_name = basename(@__FILE__)[1:end-3]
    cd(&quot;fullscale_tests/&quot; * folder_name) do
        run_perilab(&quot;additive_3d&quot;, 1, true, folder_name)
        run_perilab(&quot;additive_3d&quot;, 2, true, folder_name)
        run_perilab(&quot;additive_3d&quot;, 3, true, folder_name)
        run_perilab(&quot;additive_3d&quot;, 4, true, folder_name)
    end</code></pre><p>This file has to be called in the <strong>runtests.jl</strong>. You are able to define  .cmd with the following input if specific tolerances are needed.</p><pre><code class="nohighlight hljs">DEFAULT TOLERANCE absolute 1.0E-9
COORDINATES absolute 1.0E-12
TIME STEPS absolute 1.0E-14
NODAL VARIABLES absolute 1.0E-12
    Temperature   absolute 1.0E-8
    Heat Flow     absolute 1.0E-8
    Active        absolute 1.0E-8</code></pre><div class="admonition is-warning" id="Naming-convention-bf57d638a79ed06d"><header class="admonition-header">Naming convention<a class="admonition-anchor" href="#Naming-convention-bf57d638a79ed06d" title="Permalink"></a></header><div class="admonition-body"><p>Names of the .yaml input and the output must be the same.</p></div></div><div class="admonition is-info" id="License-b095e17ef38516e0"><header class="admonition-header">License<a class="admonition-anchor" href="#License-b095e17ef38516e0" title="Permalink"></a></header><div class="admonition-body"><p>Use licensing files for files which are not ascii.</p></div></div><h2 id="Examples"><a class="docs-heading-anchor" href="#Examples">Examples</a><a id="Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Examples" title="Permalink"></a></h2><p>Examples should be given for more complex models used in papers. Here it should be refered to the commit hash (when it worked) and the paper where the model was used. These models won&#39;t run automatically. But they help to reproduce the results and make them more transparent.</p><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../module_integration/">« Module integration</a><a class="docs-footer-nextpage" href="../../../lib/model_factory_functions/">Model Factory »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 31 July 2025 14:37">Thursday 31 July 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
