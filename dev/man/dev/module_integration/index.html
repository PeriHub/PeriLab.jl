<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Module integration · PeriLab</title><meta name="title" content="Module integration · PeriLab"/><meta property="og:title" content="Module integration · PeriLab"/><meta property="twitter:title" content="Module integration · PeriLab"/><meta name="description" content="Documentation for PeriLab."/><meta property="og:description" content="Documentation for PeriLab."/><meta property="twitter:description" content="Documentation for PeriLab."/><meta property="og:url" content="https://github.com/PeriHub/PeriLab.jl/man/dev/module_integration/"/><meta property="twitter:url" content="https://github.com/PeriHub/PeriLab.jl/man/dev/module_integration/"/><link rel="canonical" href="https://github.com/PeriHub/PeriLab.jl/man/dev/module_integration/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img class="docs-light-only" src="../../../assets/logo.png" alt="PeriLab logo"/><img class="docs-dark-only" src="../../../assets/logo-dark.png" alt="PeriLab logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">PeriLab</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../basics/">First Steps with PeriLab</a></li><li><span class="tocitem">User Guide</span><ul><li><a class="tocitem" href="../../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../input_yaml/">Input File</a></li><li><a class="tocitem" href="../../mesh_input/">Mesh and Nodesets</a></li><li><a class="tocitem" href="../../bond_filter/">Bond-Filter</a></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../models/overview/">Overview</a></li><li><a class="tocitem" href="../../models/materials/">Material Models</a></li><li><a class="tocitem" href="../../models/damage/">Damage Models</a></li><li><a class="tocitem" href="../../models/thermal/">Thermal Models</a></li><li><a class="tocitem" href="../../models/additive/">Additive Models</a></li><li><a class="tocitem" href="../../models/contact/">Contact Models</a></li></ul></li><li><a class="tocitem" href="../../output/">Output</a></li><li><a class="tocitem" href="../../solver/solver/">Solver</a></li></ul></li><li><span class="tocitem">Theory</span><ul><li><a class="tocitem" href="../../../theory/theory/">Basics</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Peridynamic Basics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../theory/theory_bondbased/">Bond-based</a></li><li><a class="tocitem" href="../../../theory/theory_ordinary/">Ordinary state-based</a></li><li><a class="tocitem" href="../../../theory/theory_correspondence/">Non-Ordinary state-based</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Multi-Physics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../theory/theory_thermal/">Thermal Models</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Finite Element Method</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../theory/theory_FEM/">FEM</a></li><li><a class="tocitem" href="../../../theory/theory_FEM_PD_coupling/">Finite Element - Peridynamics coupling</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-5" type="checkbox"/><label class="tocitem" for="menuitem-4-5"><span class="docs-label">Modelling strategies</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../theory/theory_surface_correction/">Surface Correction</a></li></ul></li></ul></li><li><span class="tocitem">Lecture</span><ul><li><a class="tocitem" href="../../../lecture/lecture/">Non-local structural mechanics and peridynamics</a></li><li><a class="tocitem" href="../../../lecture/seminar_1/">Seminar 1</a></li><li><a class="tocitem" href="../../../lecture/seminar_2/">Seminar 2</a></li><li><a class="tocitem" href="../../../lecture/seminar_3/">Seminar 3</a></li><li><a class="tocitem" href="../../../lecture/seminar_4/">Seminar 4</a></li></ul></li><li><a class="tocitem" href="../../../lib/faq/">FAQ</a></li><li><a class="tocitem" href="../../../lib/glossar/">Glossar</a></li><li><a class="tocitem" href="../../../lib/references/">References</a></li><li><a class="tocitem" href="../../../lib/links/">Useful Links</a></li><li><span class="tocitem">Development</span><ul><li><a class="tocitem" href="../developement_guide/">Guide</a></li><li><a class="tocitem" href="../datamanager/">Datamanager</a></li><li class="is-active"><a class="tocitem" href>Module integration</a><ul class="internal"><li><a class="tocitem" href="#Parameter"><span>Parameter</span></a></li><li><a class="tocitem" href="#Init-function"><span>Init function</span></a></li><li><a class="tocitem" href="#Name-function"><span>Name function</span></a></li><li><a class="tocitem" href="#Compute-function"><span>Compute function</span></a></li><li><a class="tocitem" href="#Module-name"><span>Module name</span></a></li><li class="toplevel"><a class="tocitem" href="#Creating-your-own-model-category"><span>Creating your own model category</span></a></li></ul></li><li><a class="tocitem" href="../testing/">Software Testing</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../../lib/model_factory_functions/">Model Factory</a></li><li><a class="tocitem" href="../../../lib/data_manager_functions/">Data Manager</a></li><li><a class="tocitem" href="../../../lib/solver_functions/">Solver</a></li><li><a class="tocitem" href="../../../lib/io_functions/">IO</a></li><li><a class="tocitem" href="../../../lib/geometry_functions/">Geometry</a></li><li><a class="tocitem" href="../../../lib/mpi_functions/">MPI</a></li><li><a class="tocitem" href="../../../lib/helper_functions/">Helper</a></li><li><a class="tocitem" href="../../../lib/logging_functions/">Logging</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Development</a></li><li class="is-active"><a href>Module integration</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Module integration</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/PeriHub/PeriLab.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/PeriHub/PeriLab.jl/blob/main/docs/src/man/dev/module_integration.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Module-integration"><a class="docs-heading-anchor" href="#Module-integration">Module integration</a><a id="Module-integration-1"></a><a class="docs-heading-anchor-permalink" href="#Module-integration" title="Permalink"></a></h1><p>If you want to integrate your own model check if it suits in one of the predefined classes material, damage, additive, thermal or degradation. If so check the template folder.</p><div class="admonition is-info"><header class="admonition-header">Material Template</header><div class="admonition-body"><p>Materials have multiple templates, because the correspondence formulation allows additional options.</p></div></div><p>Each template has a init function, a name function, a compute function.</p><p>Copy the template and put it in the folder. Change all the functions and give the module a name.</p><div class="admonition is-info"><header class="admonition-header">Automatic Integration</header><div class="admonition-body"><p>In PeriLab makros are used to automatically integrate your model.</p></div></div><h2 id="Parameter"><a class="docs-heading-anchor" href="#Parameter">Parameter</a><a id="Parameter-1"></a><a class="docs-heading-anchor-permalink" href="#Parameter" title="Permalink"></a></h2><p>In PeriLab a field called params exists. This field provides all the material information. The structure is given <a href="../parameters/#Parameters">here</a></p><h2 id="Init-function"><a class="docs-heading-anchor" href="#Init-function">Init function</a><a id="Init-function-1"></a><a class="docs-heading-anchor-permalink" href="#Init-function" title="Permalink"></a></h2><p>The init function is used to read and check the  properties provided by the yaml. It should be done there, because if the compute function is used, this check is done in every time step. Also specific fields can be defined here as well.</p><h2 id="Name-function"><a class="docs-heading-anchor" href="#Name-function">Name function</a><a id="Name-function-1"></a><a class="docs-heading-anchor-permalink" href="#Name-function" title="Permalink"></a></h2><p>This function defines the name of the module. This name is used to call this model from the yaml.</p><div class="admonition is-info"><header class="admonition-header">Correspondence</header><div class="admonition-body"><p>If you want to integrate a correspondence model, make sure &#39;&#39;Correspodence&#39;&#39; occur in the material name</p></div></div><h2 id="Compute-function"><a class="docs-heading-anchor" href="#Compute-function">Compute function</a><a id="Compute-function-1"></a><a class="docs-heading-anchor-permalink" href="#Compute-function" title="Permalink"></a></h2><p>This function is called from the solver. You can call whatever function you like from here. However, this function should evaluate the result needed for the solving process, e.g. heat flux or force densities.</p><h2 id="Module-name"><a class="docs-heading-anchor" href="#Module-name">Module name</a><a id="Module-name-1"></a><a class="docs-heading-anchor-permalink" href="#Module-name" title="Permalink"></a></h2><p>You can setup the module name as you like as long as it does not exist a second time in PeriLab.</p><div class="admonition is-info"><header class="admonition-header">Coding Style</header><div class="admonition-body"><p>Please name the module file and the module equaly.</p></div></div><h1 id="Creating-your-own-model-category"><a class="docs-heading-anchor" href="#Creating-your-own-model-category">Creating your own model category</a><a id="Creating-your-own-model-category-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-your-own-model-category" title="Permalink"></a></h1><div class="admonition is-category-warn"><header class="admonition-header">Creating your own model category</header><div class="admonition-body"><p>This is advanced programming. Feel free to contact the developers for help.</p></div></div><p>To integrate a model category somewhere you have to do the following things. You need a main function of your modeling category. The existing ones are the factory files. These modules have a init function and a compute function. The init function find the modules of the category and the compute function calls these modules during the solving process.</p><p>Here, the call for the init function is shown for the material factory.</p><pre><code class="language-julia hljs">mod = Set_modules.create_module_specifics(material_model, module_list, &quot;material_name&quot;)
datamanager.set_model_module(material_model, mod)</code></pre><p>The module_list is optained, by applying</p><pre><code class="language-julia hljs">global module_list = Set_modules.find_module_files(@__DIR__, &quot;material_name&quot;)
Set_modules.include_files(module_list)</code></pre><p>You can integrate these functions than in the compute function of the factory module.</p><pre><code class="language-julia hljs">mod = datamanager.get_model_module(material_model)
datamanager = mod.compute_model(datamanager, nodes, model_param, time, dt, to)</code></pre><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../datamanager/">« Datamanager</a><a class="docs-footer-nextpage" href="../testing/">Software Testing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Thursday 8 May 2025 16:48">Thursday 8 May 2025</span>. Using Julia version 1.10.9.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
